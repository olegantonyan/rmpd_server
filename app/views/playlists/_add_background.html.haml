%div{style: 'display: none'}
  = text_field_tag 'current-background-media_item'
  = text_field_tag 'current-background-media_item_id'
  = text_field_tag 'current-background-begin_time'
  = text_field_tag 'current-background-end_time'
  = text_field_tag 'current-background-begin_date'
  = text_field_tag 'current-background-end_date'

  = f.add_nested_fields_link :playlist_items_background, '', id: 'add-nested-background'

.row
  .col-sm-9
    - collection = policy_scope(MediaItem.includes(:company).not_processing.background)
    = render partial: 'shared/multiselect', locals: { collection: options_from_collection_for_select(collection, :id, :to_s),
                                                      textbox_id: 'filter-mediaitems-background-textbox',
                                                      selectbox_id: 'mediaitems-background-selectbox',
                                                      size: [collection.count, 15].min }

  .col-sm-3
    = label_for_input(f, :playlist_items_background, :begin_time)
    = text_field_tag 'mediaitems-background-begin_time-textbox', '', class: 'form-control datetime-picker-time'

    = label_for_input(f, :playlist_items_background, :end_time)
    = text_field_tag 'mediaitems-background-end_time-textbox', '', class: 'form-control datetime-picker-time'

    = label_for_input(f, :playlist_items_background, :begin_date)
    = text_field_tag 'mediaitems-background-begin_date-textbox', '', class: 'form-control datetime-picker-date'

    = label_for_input(f, :playlist_items_background, :end_date)
    = text_field_tag 'mediaitems-background-end_date-textbox', '', class: 'form-control datetime-picker-date'

%span.btn.btn-success{ id: 'mediaitems-background-add-multiple-button', role: 'button' }= icon_text('plus', background_title)
